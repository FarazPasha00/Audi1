pipeline{
    agent any
    stages{
        stage('tarfile')
        {
           steps{
                sh 'tar -czvf faraz_audi.tar.gz *'
            } 
        }

        stage('build')
        {
           steps{
                sh 'docker build -t audi:v1 .'
            } 
        }
        stage('run')
        {
            steps{
                sh 'docker run -d --name faraz_cont -p 80:80 audi:v1'
            }
        }
        
    }
}
